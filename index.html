<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="template_toggle_show"
                                title="template_toggle_show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = 
            ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
        ;
            const templateError = "template_error",
                templateToggleAltShow = "template_toggle_show",
                templateToggleAltHide = "template_toggle_hide",
                isRememberEnabled = false,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"178419f0e20c5c05f4516abc8da0056915d3881abd3c36770998532149e97dceb7d2ece9718aed12a3422865dc9633b1a42eb9d55e64429ad6850a82e13e044e4c518f5eac4c3da8ea3ac6b4ff481b849951c7de6ab456bfd15f31a9a62599c7ce12b25096097a1fc86f23baeeaceb5a326bbf2eaa73c68122504d601f8127fa97a401d6a3b9b89db462213b7996cfef60b31244b65c12166d818f1560b3fd2cf61a186e8de1422fa1a93af0fa4d23e0b1b696eb931cfa77b630e4372388e8683eff19bba4605c508cc5d51ca2cfdd88278224b87463481ebfa98741f2d3035683ed1dcf0fa7b09d9a30770b864f716fa14e38e5aa07bd62fd75c18d414cc479541547f55ea4317b0b046d82719da681d259d18ada4620d06753f3aa39f7a5df91f3cc19a7df5aa6a3da25f8c9835f495be82546c427b2064313100e9b01f963353f25300c3feed24122d91a5b6bec81e55a0eaa431e7716e57fb09562da7325cd82d583d360cc3ad88b4501f55a159698a3d31776e94064783f0b43517708e15323cc720b4657684f2e814e05ea3675052171907741eacb68b9e63b1b9954a999a84a557ceb41c2b489f315390c3d4a2400fd704d1102d81ce8c047442316789f99283728d3728b813261f1a69e0e3fde309c686372fe157d3115c9d494e27f99506e92a480c2164e6611e1e8fbc4e921a8891d12e4567ca90e8c1d8919f5a06d2057f8e575a06d5632aabf69c5c6a2b25f0253855200be2091d837fc6b7144d74630e9f7a3fc3c612ec15489b3cbdd7d4abdb4503210fd600fe382db0e48e8b61dc40f9a943e003b748bfe9d8a9a1ae5ae6d385b1a661dc186a96c69dc285b08a80199069df6bd91949718f3aa667b08bb1707c3476f36b540a08dfc9756b128222dc4ec5671a1d185cd7fe291248fa5a33ea47870f37cbdd1c8ba54b851e39f96290c0e5ed5c7b2da2bb217e00318053088a4dfddc07878684751249373365cef0db3fa743f1e271d0916a37f4462b7704449c78fdb819a0dc8c633b05d7e50fa921ead32d1bf6345fb64b4c65ce52711b09252f166a780315ef9be5e414f87fc4852ac3b6d4dbabdafb180fefe17f8af226ee30df9972d73f9598efb0cc1416c4266ac0f174acde3d0ff6b5c53f72ba2a965094c261550b6d4a13148b6038c0b5d47cdb6fd3f25b70e767f984a27b152c280f7581d4411bfdf51089912aff5c6981767906c0e8b7c4a25d2c35d781bad645ae9826ff1bd89445af5c50539816295c82e870f783bb0f3433765ecf95cb80073f0f6960576f6db5d9f1f62ce9e41c745e9c2fb404c2592f3470d319277df233cbd5d9a96c33101118a78945b96000413734dcec8c0bcdcfda71b5becd6d86b2837a8aeed180a12f1413ff70ff1f7311f754e08f6c81fff570431eac619eb91fc17cedee46acaa77a08a43c2ec95308f6118a861a6e1156a8b7af9dcef6458d57a70451ed363a44e528234f849ce5368f3b30ab9741d73d3fab8275dbdd59aa9c35f6f965923fbd58938996af66f52d4d7c6e75c45bd9210482fcb0f87bacb0fd3f0bdc4195cd9c60e7bab085de05c207aff4044405930f23c11ca466e6e1800d326aff29afe93f18fb7e1efa3184b611edaedb70e6d6ee92fb4a8056291cdc99b50e94159e392d5d09157d89df2451c6f95be486123672747280b5bcdb4c44de72d93e876e0fca773503fcf7413a858f641fd7ad7a65de114254704c3b607335b6fec52b396d820138c0a4650e945763e0e57ef734ef17080467c089a33bd565b7fa37940d5e7925421cbe0791f8548bdfd200ccebea6c9c5c2a92ccadd08d0b18ee2ade3fca7ad86df4266d7712f36f77b94bf43d3dee93a4a811236d6efefbd8cfcbdefe4d94d9c3bc5dfea81fca6be330b5f3418ff2f31396d316b04a27fe51df26231f821ba49c5767bc9410f9e675e2530669fa8fd340006da04585ef4aa5bc18bfe1a7f5cfcc8f0dada337fc3b8b67378e63ba939c83f7d512d774b097f753911f25be280435cbbc037ec2bef351925a235e6c4e34389c6801581312371a6570e61abac727d5fb758a55adbc0f6cc167ffbb80294dd9ac92ebb49776467b1735db84ae58c9c518a899429f6be0ba21a436b5c6a7d0143ec5464c3a9a6bb3794a414ac43144c5ce9c9d56122e250767c7faae542409c36881132a9ac8088493bffb008ee522a0dedcd1672fd5c07a14e2fc91d5dbd414c30d485ba5ee3fd14c52a36bf1daf93403830888c2a5e0babc6f5c78f39165e427e5065c7113003c2d9a9db07c2b63ebc087292d885ca9cccdbcb43d8210ec74eed18298c02086e6e833ca75681bc286a621b9ac12ec18a5ef71afe5721adc65e5cfd0c7b24bce1e6e285531f77549f12c5a32beeaa12f8cfc5d5ba4412a25d0781bbd1ec4c3c0b4dd7d0ccfe0cf1dbe221f52f122b1f32f6d7ee50ad0c556b29c8a2709ab2694f9df48578beaa83c2aed85972ba0568349d0cb2fa9cf256d6b49657f334ac6198ad67bd56fd716b664a6965a96c47d41aad937aed7fc8172a7caaa546955be155860f5473b4e6b760dbdd82f89f7906a02e5341194a5a1ce5163626952102eed2b81791d0feca8984beba477c3bcfb9e31a37bf9543bcbeb73c9a43502ebdfe81ac16eb448d09e03ae3db8bcf399052c972a637a268e9286df4da389b9cc84a0d1c1706fbc557588679e557dfd32537465fe81173a9b2e364b08e79857f26b94d6c868fd9d844eab729751d944fa62087a2a7ff160586a91d414c1111a5b1656f8ff05d145cf90cafabc91383acedbba05db0e336ecc46b23f271701b1abf706343d649a905137d8a3fb560eb7a00413e8424fe41645eba268e201dc7608106ffbead0e75fd65296ea933468e307ebbc4e629a4415496dcae113c8febdcc4999433ea8a4f41a1466075c2dedbc649b36a01c70d5a20ae588486f4a1658c9a83238607de7784a6d32a64d764d09982ae87902198ab6c243822386a975757aebf611bee5ccf8eef8bfd6818a9bef7a1b0e71989291ef73bb92cd5fafaed0aec64080849925aa166c28d3f286b3dddeb4037c08beb00726bd14ec0dc5e7911b9abe8dc805a48052954d29cd52e5d3f50be89861f858f4a7fb2e20055ac5cdcd2f92fada2f74e6d336857449e391573803462fb61da1123de526992b9eb2a18449f2d09a313204b2a398fa541c66177dccf9e271be09d215f26b43dfaa773d6880a76872edc04c396b24a1f4558a577dd4cb754a93ac511842df037300053079f8301857131bb06edc0a42f2765adc0afc16d773a715c16a66b1aabd54893d6fe676e7e5851be57459209d834ac1942b478db16502d10b375924269ad6b908bbe4755d8d551eccaf37eaec7521e8245a3327a7e5adbca42cb62f8fb7328cf45fddfec949393bec9f28391a2c7cc6515ed171e8d2f2060bd8aef1045b2072035172e48e881357f4f75672fe2669ef6a7fc0c1d6e1c8409f47e73eb5cd9a08c4fcf1d826775b2c7489d7c18d98280b6aca720887e27647eefb374fe8f730562396b058b2ed578b1855b21712d174a6496969db5ff0c2e7798bf32da07f3bfc3f9f1716eedf79eac9675b59ec375e4ee42144cf2bdb177c05e49c326986847a50d0e2bb8b47c1df11cc58c01022dde9e806212eb3cdf529d02cf42d98672b44177c84fb153912beaa6db12f75107bfdb7e1cca1fdad0e8a82978faa6e53af3dbbb059db96f8cd06bf090273a0818e7292b251b90bb9bc45a526134f29af04c36cdf49c6e0ac8103dd1f709f9db5cbdca1a2bcd3e5647b7f610b2876e841ac258fcfa9b8d642c47c92bba5b8878fb9932bc1d57bbc2baf392dac8406e899bef972aaaee0d7649c5fea9556e29cbc056a16d6c10627736e77c40ac63c386d9fb82bba10cbfb5b78e349596298bec33a44cd5bf3359bc3d4a35ec39f7a249abbe61d738b7c51797662bb50786fe9cde6c8a4bc05269ec7e69937afacc0755a0c39658fdb2d994978a60bca9a73b5a4e764378fb5310ace663c1c0a1475eebba8e0afb053fe62e30da2115c543f28b466da04c9b096bb792120f63541a038f60f356d7b99d2024d08d10fbf25dc99fd90823f546ded917c3906a390565ac561de6a21113f06524168a99b4706aa87d70635ac284c7fb25e75c31f939afd5fba3cf47da6d3828a5733e797111a1b8bcdedfd412da92b94ea3b71beb694fd33014227d0441c6663da7340c584d22749e5c0072a4c5c74f45717c525a8b78cf9a030928294bece02a422374698c8910eef39582ab2c7e035d483baaad1350aa3cde6c0070a3df741e31b4bf4d540bee7d0e201e0b180ad2fe3bfa4fd8ed2d80e90933950feeb9ef48866295d9b4c102bae6c783f236cfcdca80b33f89411382e73cca3576723779bd7caea5646c102e5f979614a7709dcefeda77a02d2993c0b8833f91012041d72dc0b765f2b59f9ad816aff5a63bd399fb120a6278006a920e9193f97e8d8eaa7d0331e9ef396f185b048cbae2f161c8b8900f67b55a067baf97a011fe16603a1dec5ad20bbbe09bf0ea592a7b7d7b8aff667c2ede97f10305bdfaae80938d24a0be5884684491feb16a76d35421c944fc79a6451cf0101830545a04a62535da1420186a2e27d2da330bbab45b4d51390b06dc09615da132699289c9068d207a4e5c6bddb2c68eb529cb9763ab9e2eccb16016fdd4a091cf3de6989a94ecad9fb8933948d15a9af3818e32ab085c34ffd2effffa35e7efa3ea7675ed910382fb44aa4f8074c2306d1724a89f779b8ba93489d8c453930edb2b030e6d1bce132fb4f86cce3a7837482bb27fb21ffaa6dc8263d13c2ca33094e67734932e0cad3040410bf1eefc03058c4b31788849cb3b321ce3f66add811d1da1d46cd8ba8942edaeae296cb9d2e0a764f24103693c1db0b07b49191026c5005f903b1f0823113d40cccd9dd2f5c5157ce4183fd678631ba53473aa1a00cd907ac26ee6a9457db08d5320840bdbbc32064ac16dcdd1a2466aa8c7e9e7dc3e8f5318e405774e958565b8d2301d37190af832c9505ad1eb7b8da5f7f48e8f22ddd900bfa5d480096d69b054d17bab4e494e4e4ce48b604f34831bf4096b852e28fe0eae31c9d4f918bdcc9ee639a86c8ad0afbf089e77789bc938c31039431e992d424d5650a3dae698cdeb7bc178821deb04bbb662f498a674c3629dc4828fa5503ffbceae3da28a3678a20ebed213005156b3fafc0af9ff8219f97fe170406c4664b098513007077fb521e3996af9582dbc8586abff3b01bb9b18b60c3bba670df1017df666323bb8b0aabb5f5d6fd265a912fdb17a223e824c3f3a23f0d9db7524fb4bd1e17f2360d483964050127b8ffdf1ba0620702bfe204d1cf034e24cd8b693818be4717e90dbfcad29e7bf8ac89c421e45fec02e9eba40241d5206257b44a35dfb67c27af2860f59336965f8a34b04eb50310eafb5bf05c0800e115222bbef6310c88e8cc8f7042f1e2097f9203dcb97fa3482b0b5172e5eccbc1da854f0afe520c0b78b3165d392dd126bc7a9b50cbfaa5454ab2b1be650eeb9cd39140350f2934075d1b2982f4603f3420f41dffdb286f28117b447bf7634ff177fabd42641cbfd9ec1284f76d48368e459246d19b909901b684f9bed47c0c6bb19039e48ba9966f9d707ed1edc202d8c68b189fd5fa0a46bc9df042243be0033e838108f28417370b24b921460d24076d5cf23b0593999f8bf51eb397b14e2318b3faa3ebc5e72764bae03ae56a453abe69e73892d4363be01e398bce65d277dfb6d7eaf3842dd67809ade66c248b6223f39805c3a8b2bf6e3d1714a6f624c954f88e0a91962395f78cfcb58127668716e62cda60824a91326e048397ea614b672474c411ee0951ee8693cfde949f01a77bffd762965dd7ab15307a541e16409295ff36526c766eab090ddd9d4d861511029989dfb8bd2e006345fd2c76ee61dd6438ba8b3e6d3b5b35f5b5a47c1a6e9a6df7085ba9d1ff31bf7e6226515851b8a643188883d0df91e301b31f5fa7521ab4644705fd0c926233849257cb2f4050cb015f7dd113ed8c78eeed0d9c33ce4c7e4ca10632eab571ee23f5013001f5b78c33198497bed16028fe574209a1baf90661fd8c2a57b3f088203468623b41730038740204449b05efd1532a25000cbb9f04ee41d27b9383bb3c97520c638e8ea35334bf4413428b63eec8914f5e39d0ab387187b445ae2c7b772ee6824c57a81b9372a1dbe63934a8346cdbf83c889f2b54840e250f6955fa8e6b4dbde3f3ffaaac2ddc27cf5c3203f84f3d4ebca37b917d7a0a9d1beae986d53abc60bb2f48231f6de18840e0020149f1beceec65d861311b6769b73892524c6d306a9e8753b61c11abbdba20489b2073536ee67420cd5775d460148af993053d0d3f73f6b092b153bc139e5c0c28d35e470f3c30945f30f35c140d4b20650cb901c4cca4c2b7c6a91b541d56be1e822af3106dc7ba7c827503f451aae26184ed26ddc314739f9ae9817db728ddc52d015bc108264f1f46aa76fd1f9b7f5650e35268989bcdded9f199185b195acb59d82db87b062ba712ee12bdc5583ea92bf24a7c43aedb05be766926dd9417147555062c3c83ef8d8df9eeb13fa8bbadf1ec9bdfafd4a641656b3b83f909e8350510d530b036693f269e686923faddefd39b43cc62928ecb50be04be1e98da78f41f3047c8665f4e5a552dbf824af0703273f841b06df3d33c02face641e32d2d4ccaa7a8bbc0f61b9174e106b48cdfb260efbf4388ffcaea96c9c6130d166bc57503bf3f72ed8cd5792e6ca4261dcd3f73dea0781d93d537610e533aaa038260efdaa433119d2c96aed387c6ddbd040d414b7bef7c714f786adbc7eb9d0ae5d78e54402735622968e39ab5d32987c1a04a89f196e942e9522c7752c6aa23a4bb62b1cfa8554b47b7c3c2e1b21932e5c9cc86c9cbf30f9e41def43d79abc3b72e030d9d018e819307e7a93a4a74595e74bd086f778e5905c9827d5cc79d327111ec508462512c2f68dce41d5d3dd0f72e742453fc24950acf89484753803b1d8000a60058c84fdf349238d71ae5e143adb3ab6565ed4e8c0796726745c12e9b369fdc640a311f882f7ba4d2c84a495c537e8ba60bb880fbafa080395b8e63bea72b9748b55213f01a84ad33dd1814150cef958ebb8231f3385767015d7bf81fc676c18216b7473de45cdf92e03846fd09cbc1936894cccbfed79729140c663690cf54e4c3f4f5ba1426a574025180dbb7279b4a06fa862138eed214438ca4ba6c858e2aca8a7418c97cd67ee316aaa8377e237cf11be9c7940bdb427835b611fb8efb30eda4e5eef066619e7a7640c7ec64718065f5d7a7f3c86652c2efcfcda412a55e69d31958d208cfce639b0992e3fa2cc0c66e962b35f44a7378956156cb7f216861cb822a78c31acb6c880628c05385c0ede5a049d4185f6088b8f33f5968ff58f05b48a73d85ff8407bbe0e105c22549eea3806f1cc54d9b0d2a50d297e9e745f88dad263d39a7df9d29a393b3f5e9583312e9d0f8b722afccc3b58c03390d58bebc7639b3c4df966b1d424cfaca8d8d4714f75b6bbfef51a23345266de78e58a065ca1587d2d7987d7e3034ae358952d94c0a902fa7a04ab02d3ec6ebd709055edaf8522614725bab317e6b43834826c066cf12a8635c0f91ce9ae5560e1ec760d48cf6c0b260de43ce23833d80156ca780fb06af23c38f83e5385ddbc7b704f45f020f5945702f7a1c669f3a428b25ddd279ee2019c9678a02848d8717ff1e44f36b218571587dc65825cfe3cd921abe727751b6e4462b0772b5434c1927e95de5baa8a1d811a23f5db9d062ea1078d7818fedda805781ba33719c976a230d6863c34b05e0c9d67aedba2c9fc5fc4c00ceab73118ce9f55c383e03f03caa6282d3b8c367607d44228522b9a30a226e0d697fddbc16343b7d63d540b0ed24d3d58f62df60b4eb7e2f14668e295e8aa245dba937100cffbb129071823d2dc0e8eafcaaca85039106b969702efaf89bb5da54df5dc64c4adc219cd7d84c992aba5b49aca0cca1e0aa7492ea3739a79a58670cf9c854b158fe2888f922c15f9e2f4811791a74d0189e3db5ad818df5035e13d865092a61860b0745f4bebfa3fcaee261557a94e2c889669c5fe52fd88683facf22059659890d47f82484e1b789c732de2211184150b6f13677d2ba09ee9edda5046ce5f97cbbe5e1f92ad3096bfd08f2a52cd596538dcb3dededae5c3cfbf567d354436909dab98d33e67deda8c77f36003c0ad65554c7e3394672e1689e6e2e941d0da80ba9bf13f6148ea31a8e8bc9beba9e5dfff4e6fda95a0041cfa59ccbdef8c7aa3cfe9e94d7c4a78d53a0e00aa26801b8b2ad59756ce51290076fb8f6d1f008f759af122285ab460cc7df4208a4233d19ab4e303d9e137b140245f54a991205f870c12eb7e582e2fcb3a6e11524943663819c785344616ee3479adc7ce88f12ad44909d2a935d96fc815692d1c2a6a277d25b9cfa61c10b16233d6283d76d71933794dea20915837aff6433b6279aab6b6b251b19af5cf8f305f2c444e71f807b3705c8995a1e37cc5953af068c58a679622e9e2244e3d15afec6e2312e0176233ac82ccec1dbe693c67cd36233783d86847b550ae60620999f29bf8205b2f27884bd4568b35b85d26b9f55e93d1544369a63b4d25a8b139d15e676b7423faa32afe7ee5758bd79684393f18ac82adcbdad1e7227dc7dd193091a9551327e174d1c1c526f9d43c6d3a1a5454c22c806d64e68f267af7e1a8bb995793a8a9e1584f473158c19ec4cbfce84d943e735b86d71942365b6db8a3cb4585c43aa2f516e032f3e9c3d6dd819da975e3a3a1cd7c7652f735bac47f80af437f4f02599bead17a1725bd12fd2829eb6ce31ed8b785c24ecbca1e4f2b0b9049c0a670656d4a0d6e2d6bb2e1aba6deedcc3fbf7d382da0387c95d6a329af9cf82dab76b322f0f4a9bc4928a7446194e74e5378208e940eab6ac960e89a009861893565119a7a6cc1efc808ed2f597aaab4b6e37d9d43dba753fd0f3b979809f019066bdbae0f6e71cae6d0dd8ccf29148a99e987519a35bac14afd437eaeb0fda439ca8c60bfcdf1d36b1e3aa866a7c03629935d3db298475bb2300f2875963fb3889c66c83694e13179db60c2bab78f49ab67e13c8a1b8d178cb932730404cdf93ece1f7b4fbdf39941b5f630b4b7d106147a1c8462dd90f42aa769715a59847823a239b0f10f5e8ad5d0e40f5ce9afe527c744db7f9f445148663a4336a3acbf83ba98f6727e35984006240c353d2914d5b697db912515c6c061df4f3f8850c4523068ce3745110b5173a2cff23031c799166a099070e72c4533947a6b755cc6ee921aaca7381bb16e12bbc7976dd80e7031fed695d1f37f7956a8ee82544400357183479795676ba5b1eae81fd0489a707e372aca187b3fbdfebafdcfd47697103459f829dfa29dbac6abfaf564d432ce6c5e3247e442541a96620a691e221449111427c09a2714ac7946eaa6fd9f593d38d7add5d22e0dae347b8f341e8f7cae279981158ee2194785764e3d6a9960680b0c0abce00eeafdefadd217b249232bfa8b51091ed38689df686207ce913afbc4ce7e180f4b8523925a5db5a4be18bb4c7b5947acee8186f50114872ff45021695e79f99cff6e150734a59c1b8cfff5048803c98ec5b7ce898d7440c3573b6f2b4c94be47de7cf9457c4f4b09d96e3407b73d89c0b674538581b22e1e53a9f01b326beefe410d44971bc174cfca100305b8728ec481bd7810ac1805cbaf927256e48a984861a6dbd6fd2552122d7bad8ac2386df0d8e30c7350356f09d4521eb49b6a29e4ff1586cb5a3abd1bbfcb24c47adad831fd51a9b1953103f99b98d323280733e9338b3ccb0aa80cefe88213046b4a48d3265f146d0fef4a534a220e25c8fb8ef6c70ab6a5358048d25b02680c41d81b67e0f9c562a1dc3d92918d96c32e56faadb3abee6d3add77094723b1cda5ccf406c7c9213c64e9a9cf2cfbaeefaf8b590dc70ec7b66fcc7921d7f8dc7e08f0865478ec0ee442e3bfa35f8bc5908b5b915c2a96d8397e77a551881b11f66a6a122a975cad95a563d035564101671ea363c7a2fd8bcb1182c80a6ab148dbaa168540bd01db3ffc8987903263f9590a2133bbcf8803bc3d0fa446bcc72418996ea0e35ee847af129389ecf5d01a78d2f6ab137e7bd356fc9a7701c2a966733f8c30b6663bb90a594cd92933773d1c5ce3c37baf42c7f9964677f8bf67b6192d72a3895488721638b21abb02a0ede028acc2178e9640a4ae6787ce8cce62ad52fd9329009ab4936d7f7fe0099dc70ddc9fafc25c5141e3f73c89b8227e8e42a1209d1fa4b2918af1834f3f76500c1bca6ceaafa4ec841662c2fbd357240127b0dcde5a2eef196b77b5c338c71ca7bc5e242390c5615a2f800838f8956f703efb5563988a83d94f7d3b2c2089a10167f6a06d46a7889288e4ba2b525e832c5cb5e01aafe732f4613c37b9bdb55c72400a26a7bff93b3eff8c3cff3bbd75cf12963d62e5286977f1bf98860d2a98b8f999f50c64a598a42f80defe2d21ea4c0d3e63374a928989bab04eadc887b4602bbd69e36b79b001d701d39464c4ae58c3448e821cd2a43d207111e62c9f5d6791e205a8ebdadac439b78bb35ff1739ecff28d5b6e895e8c9c7daa5472dac4b328caa41cd043437726916806ce75c4bd66bbcaace8ccb690c610758a580907675a78a0c06a429595127d7997bdc7c83af58e88cc1f6a8554a5c515c2b5d0769656df7d370e7f7ae9b020b91bcef39e7879cbf738781ba6f7c741498a824264f790a6de2dceb8dd14d7467fbf81d4890f1c7a3edc14ab78fd047a56a519ac6d7508290034f586e40187bd7499092fc9cfa68b90abc74a1c039b92afb1e96900a7a7a3afd2edf366e5671b1cd00ff853ed4cc04163993eec1d48ba6f8164ec4f196f660ed63d555c53e8cd8890ef743374f809d4535dbc929b9560517a84d8e25efd9bf366682476f69f4bc4c7bb68e1ba2a46c0d265862f63342d78ebe46ebb29d3a939d97a00f434cf9965bec72e1b138709c4cbfc9f29f676c6cb69c7cbbc4f5df64af3d744943e822bd1c607f711878eb95489707dbb5edaab82712f201193cf9a759565513005734d0a7f415446c214a240602caa92ba8c9a51934e9c14a1f95a4937bf1592be46cc11f90c04a839acd430e34f15c300bbc7dc3314c1cc133a371767a26380fa05cb77b1e42169f3c07c99ec1d687c22957fa25ee2a6c3d0b094a5583f4af8a24883c87db95d1e5e30508cbb18b72d0285bd4bf760d0b6b25551c49b5b4c7009d7c8bd512c495120ed8fd3c5228177a2853042f458525ed348e33a1461a27e4e338b74f03e1232b9c5ee439df082ce8fd0a792a744494c6aa2d6d474d0c545297a65506dca349e70aeabfe90cabd4b6dd1f8363e72661bd357e78a65c3b0700ab3942740a482f6103bc2182dd060928bd0086f5eddeeaefe7784de1e845089cd4d52225f2fcd5943e16111cf9790162ba96a1d438f58f04501d9fa2e488fe19fcca0f4fa4b9fdf867b1cc8709eab6685cf607b5c9d986f58b8d26b0a8fec590264825f0de7fd11a56b1657c5cd9bc67dc4f3abcfbb420c26fe0e69cee14e2768665771dc073942c6af95b7f8d621abf3c620d66522b1621093c28760feb1c5dfb91ddeab99ccc0cee80e863ae2a93679aef0359a3abac473b9cee7b61ca6ffab884f86e52f818f7ad671e44c115af190032a1cbdc6a3dd82bc491bd6da44b2cdda556fbc40dac01d0273539332ea2daa801155e55412fbb6eb018a9780dbdcb434fba078c9c976565f3155251a84cee5a2eb67a135007351e5f10df90195325c46c72fe27247d2d77d555dad61f557b9aa7656b6a2a459aaa810d0c61632ceda2b13570a5219a4fcecb5208187d22cdeb5c4524700100639c059c658f8919bd6e1ca7a700a0f307ae5a39aae850ed0bb30b9d7bd60bde6cae03d95b4aac678de6aef7a5662ea5e0e0f13694274cd1cfbac232ccda456929e894c3f3ec6063c69732fab75705b1f394a24b1e463d6df741f249035e51f1ea2a2c1ab17640017d3b754ab0ad3100b79c1694804fcc61dae527b4293ff60c09e3331f7994c2d1abdd560723137539c63c962724fc1bb518aa35e96367c42ac342b819ed945db5eaf60e3f1b1b6b667582e3840e7503ce23ac02d5870b81718bdaeaa021a16cd3089e40204e1532af1ef2b3fb502286985a27fbd596919336789276a3f7bbc49b11e0bd42d8332a7e69b3ac505a446e0af1b94e6c1b44f2efb94e4f8a5e02c52ac2aa3ca79c1b4730da0f05dfcffce66f74c7296b876aab99709eb8341478fe80db7197f584d1ebc92e8fa5911577e5c5c52ab1bb901c6445637c25133c808e4a1cd1a13b24906afbe792c6714547f322aa761dfbbf1ceda75bdb8824daec58bf191f207b342f943ecbea3756b7a035a6b46eb820af2afb620ba94e207a1a473c4d69431f890f4cf586569361d59be2f84ed20cbd44576a70b5e76612d45bef1c933ed39df76220a0346531960c0162abe88f1819cfc34706ff0f0c005bc6ec494c35b3f30f240cbe4d045434d3a5e9473e0775daaa94ae92bd42234b7377f755ade8d95702afe574212f2055164f4ea15932d066649af3d1565d3151e08c94794f5c4b81ff0d054c49efc221b71e3863a305cf779f6bfd214c3268dd865a603d4e1adf41fe7181aeb23afd6355914ed8246c9cf27a42b4dbf17b109ca19042383c08d6f6d87175f5343d105454228a435a76a8680f4228eca54b69cc1ff51923db958f8ac214013fdbe2140f52fa39b374ce08f22e691923b6a803b26663df448bda25719daf40cce6edfd617ecf3da5cd563409b6a12f64a6d16efbd72347aa49bb610008e474873685049a87e3ec7ea9eeb77cd29793a07051161f5cc68aa92da9c9bd96da155430bba35e0b8fe7b113e2620fe2911b7fd644d43459b812cd7f105e74bdfc8b2aef491ab481241107c7e06f6e5ba40c988625c13e7ebef9637749b8acb16b06c9e6842b551a4e416476bc1e7ebbcb3c83f1b776785d5f3ca2e4d7b9601356bdb2da5afaf20ea79690f87b31a4488a4264df784f5be6161167093e1e31c54492ef836cddcd8fe337e175376f019b2fb9108979f1cf3e8282c0ccc43f0d2641ca546c7054ead1b7900709d990c7555d0321d3b05d347bd03b15dc063b2dad48f798d2ffc00511a928db3839f5d65fc40d0b383a79a632bea5444b6a17b4ac8108d5af9b4d32a5c942c459d24a31138c6c7a15c088f11b0b8e5a5c4792d75cf8368430ce68182a20d1a16862560e1cf5e329847c3e3ffeda06ed61c7937e525d6ea4e1b8e6cb668ef56fdcf8f13191aa3373184ecba0c8a832ade2b4fe36b152343034bcbe4280ce846834cbcef7272f71ac44caaf1c744ed436ef260f0a219b2f6f1f3376b10188bc0264e008c31622b5bd068aff251f0307cce7b74bc5c8b127a68de7e509822591ba982062810c97f62858454c374d96a30f30a711fd5bed2d1f9b66d5a581cc219a184ee82397d09cfbdaa1b903ac1d2970f5a93ec12ad72390623c9c1d1ffd26f52b1d4bf3f975f95ae9355805a81f24b92f819d1e2960123b49d0a7d23e8ad49164186fe25c6b43afc9c89a853b6c00da03ae56549029ee92f225c2913aa50decb9d90ac07b1ec30973da3f80ccb8d397c2fd6b4ad5c878325e05df38d6e9818051ca8963fc043e827a904aa06b132afbc724cb54c0c3d21b2c1c6f8cbbd10469ec4b878277a737805e8c54614b8aee34361d10d910903364d0f7b22e5618dc153aac123a9a74176ccf78676889b19642fbcdce117f0baaca5588e29bd7a373594813882e924578b2e3c42578251d6fd81eb9c661dc81a2bd551710c2b845ce0d0b515a8b4268c8d8444c555888d2c4a14f3f1f8c49a707d0a78bf4c8dbd51b6dc7c2ae1605f5a56b36e68c16927580abe414b54a89675ae6d342db38a526278ca852ef803f8f0e9e256db0afd94f3a5efc3b2ca943b351793833eaa8cb711d3db7ca4a32d7495df6131ac832405299384612f326bf123c7aace4b8335629473d9570cff4bb71e62264658ea28040fc2bd5e8bac6b596557744cb9b026b9ec2f326bb894c36b47b21d61a97433c9418d400b41b61ca0cecdf029c4b27ef3fb8e1c399d6b7e812c81293107aa180d83ca3474b1fdde4ebce4a2433358a3ba21b2ce317872579dfd1bc73ed2cdcfeed52567e7fe91bc7070320b5bcbd336a66df250c8a5360afe2c980d5f6404b861c687491a7096de1c0f90359bdefdb8bc63b330d6ccfc2fbff75341175a8ffa3cdaf1f57262720a887c9215f4d6b30b5550a4ec32b1c45adc16bc5bb3a8ec6ca17833140aaf1f9f1ebe49bd0c4e442383d6cd16940f86c180dad3b6d08f65e304679a59ce2c9ca84ae7da06e13295636165c07a779ee8e3850a514fd62525ac405b1ee814b3e1d189e7812cebcc6333c72f7fbfe7563e90eed04924b71cbcc5d190ee592bd089622ceaaa172f4e3626b68804518a56b2b45ec36d40dabe5ec2cff8ab6539567096c00392f07c063da806a3d22f154c95dd0841226068eede4804a99ffac7185b44d07fc9c4fa11d5c45c5f3f9d3f55978fb41e1829a592c34f0b33a72658f72b298d4f8fe939062a8ef500ea01baa47d4450272803902ae3db1214b5e416d1eb15e82bbd5155315e97406b6a89c852b4be978f1e86164da0d45fe2d2574663d8d878605c5aac742f7f2d8523a43b08293905b3484e1cd7f7498427f4f8e1d6c7089a9f9dfbcd9ea2fa5e3df32e8cabe855e10a0175fba99eed0803fd01d8ca759cdc6446c1b9ed0c84d1c1fcbe32a4de15484fbc6d2da9180401af91edbdb032190d8e771180cacf4351e68d66825ba639a179b9d2b31b778bc1d37cc7689ab71d99f06d75bf3c2cd792985505c7461fbfbc3ec5b04d352ff7dd4120320aac044daf525e2b609aa18433fb664f5911e8c740f8d6857f161eb5af628cff7c9bc0df514314e45015caefdb8322b52a7efdc07fc8e7a16156c44ce080b8be254d54a02cd6c7169f48a96acd0939d9762bba9080a6dae3f7cfae7af61f5194c4a4ffbdb6180c10492abecc28af2f6d8342a2ae4ed2ba1ba2d11658b4f369632ad7cd0eb1e2952f2bf81b43e0090c7cf8979fce83784657a70b6257c0870426ec3f516a3ed695bc3da78d544446d2708c2fe5086221f40ed1b331a60f6e62b2e1fb88892de3f47e40f0f138a345f139dd6e77faf730acaaa56c12d54be27a5430cc2911a2a86f4917f121fa90ca11d95f8129e3e37b7e447cd84d08bb1234e5d73ca9088cd751bfa3dbd006c13f6bcfb4525dd3ed31b7d81cea1eeffab260db4c65de507056d6672bcafb860671477d4734fe05d0531b8f7990e91df4c7f5fbeeef2078d353e3c8f142341a9d869efb77dc984ce2531ae94900e7dcd0b26a53e47fa6678303383ea472e8617c8763e6c1ed97373f4d4faa96a3f7396728669452916c06fc0e8afdfc8b32f330c2b1dfc86029fd83ed05a42e2c2a4683b1139321cf21318a12379a2b16865af9b8b4a8eaea3bfe193b11c5377d163a53a8235c267f38ee34f7c3f9f125c0256c1287a3e81eb8a12fcd60ec660770585843ad4c0b0ddae63ddea40765bd8b8c08260691716153f473bd33daba90cacb511fa189fed1677adf1d8be7b2d3334b66e08aee213086cf2f024bc06983bb4b77979a3b54bff7e5ba53f99d17180a1d5fe909db496b731edc54ef4a02455a422b70d936b34c45d989f01f212144c576e550b7cbc4a6feb2767d766576c4fc144a126d6062659a679223934be4a958b81647f9a728da11123bb7cf73d792afff31b15aef1da9d9c3e09518cba4a977845acc4ffb09444f7f3462079ccff1b13e63e700cee6f3f3d6b5b92778bd7619996a1cd0e8d0e3e9f089d9e1815ce505acd169fd4c1ba6d00430d28c92b218c48bf9e1ee8578cd8eff58656e91c38277dc8ce74dbcfc8f6e4e6b98bd836fa0382353d93ef3fbbd3ceafbc13d09e97d7cf7117a4c91d4a65e8d189a75cc83cd2d38283864f679be40fe464e421c6354c6c52bbd8de36dccbed234e512afcf827f5c1e450754f2e3203a2b7f78f0187586907288c3fefe0f19f6d7f657ec82c3068c862813ab841e122a97aa2353ecee8eedeb7ee56ae60fbefa07f89415ce53b4625d13ac895a2ac7bfa479a29a7ea567d8fe8060b6bf19e5b6da217ff8531fcd502c44f58921c91105c5ac9ca9de43c52bf6d6c530b40d728b481f4026e759c7659810c234db1323b85033f45059f3eb0abf025443dbc68b8b8eddd70531d3733314a36812010db03e5568d311736b323965bd911160512e88865a74f3b5352a3d5a3254c0848440bc34eceefd78d10f6c3edb81d0e23ab51f6ad0782b3726ee301a112f721863e8adfda20692a429e0c4e235111a62de1fecf2e0e1662479f372fd6ae927ac6bc024d4379f50ef55bfda7307f4a0bdfe5d5f7b095d6fd14e0325413561bbdd6d1752556510d4b968a81b9ea792cf25c78b22288eb205e31b3db2f0cdbf8f4fccc5c415dbe4241822950defa027b54abde020ed160df592d18c3dd180146d62dad42985266d0659009075df94be5c20257704e0034804e9fd95b669f8bd5d4a77fdbd90b9a9c9cbeab2cfc2733ef0c19d23799c5c8c1d8099227fe8acdeb8263566713ddfea4f62ac194fd3d04cabb8d6df6a8f6655a7fda8d1193452880e1d97043466ab5991d5deab26e560cafb4bdbbcaf4b52a8cf9f4693aac01cb3dc03ad7a3ff77b4932ec456a8e844e1fd1c184b796d0a19e7c2c7ba80685c2e4ee913f58b69b005d7cf380b1b8996a9c028f87a3e48b98e61b756d1b8379f7e4c569bae56acc71ad1b578ab3626ff4dbbf7c2dd1a7d268f5e4f20b5432493042297fc965f0af2d023e292a4d6efbcb3d8abd7f026ffdb3cdb8b1aa581cc858ecfe85b5735bb5231b51887f2b0c0c8777d17f08921250bf761c8f6f37d2fec455e8c7d856f3a6e22ec5510df1d50d4223053edad9d4520a39dea6e1d989fd349e1c3c8f66dcc5130c4207d4d60904705d55f3bfa1a16df9b56fa8fe8a560642f4f3b7267143fb8350385c52cf2f82455b259b11151bd731817c6ecf31d386792fab3c5c1d68d87b4a8a5347f548488447fd38758050f96e22ff205a2ddaf4681e5345669bf0d4b625eaf28997e50b0cc3d9dcab39b94e691fdced1ecaad559d72129bc1c5e11bedcdab3785b2d14ef3cb431e6fc82d193a19b554d7d95bd11fe9b5f867897e03fb9938ac8209da9438323626b58be46d5f834cbce92674125d3cd67f57aba61f3993085c8d61aab62a872388060efe8291fe342d675f050292d35660617e8840d857218e7c971cb50a15f66c21fe786c5cc930f8586817ed841a3c029d16db985d71053e8e644bc9a7c94df29e2fcaa520881f2f3a0d6ffa093aa6ce85c51ea680b86fa854ece322751098082ffa86e841b4adf98d82f758a413e16652af39ae07dd124b9399b0e61ae95671d4503ff43cc488ebd5a90bbfb9409ea3f6e7bf7cb2af64d4c2eca4533b40f5a2bcc19c4a14c7d764ae3a8908a3fa546023904c9964ae4627e2a69ffca67658119675952bbdd73a499b36f41de97a7527bbebbe71d21bf403674eec32d6b32aaf38db7b4f57e7584ecee34e167fb1d8240e16429248465caef61ceffa95aa5336c3010663192534cb911501c75ebda3ee67c8066ca10d163e0b9d0dd7496144e776bc0092723776c0c8668e5dc67a4a838a9803bacca90d14f8b4f1ac1d1dbe12cfe0a3dd010ac9471154608c4097ba55e3dabd9cbf64caee0775ef289112de17342f6ba2a91c3c9e6afa36191cfd1d93168c7929bd0e02db8724e87ba4a5cd361e3d013f427f396a73216bfa66d39e19270abb7b7c9981f30cfc9f1b3554a3216c5a5ff7020de8587716a796120e898fefdd87e7c3bfe82f9b3f4925cbdf30c45ee13e1910bbb9fbcb06512c3d","isRememberEnabled":false,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"5a445b98329d73939a6af3ab9f7b2b79"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
